<!--
    Mock Schedule UI for schedule maker before mixing react
    
    NOTE:
    2px = 1 minute,
    therefore an hour = 120px!

    7:00 is at top:0px from top edge of .day
-->
<!DOCTYPE html>
<html>
    <input type = "text" id = "course_form">
    <input type = "submit" id = "form_submit" value = "Submit" />
    <ul id = "course_selection">
        <li>DAM</li>
        <li>gus</li>
    </ul>
    <center>
        <input type = "submit" id = "change" value = "change">
        <div id = "week">
            <div id = "time" class = "day">
                <div class="time_period">7:00 AM</div>
                <div class="time_period">8:00 </div>
                <div class="time_period">9:00 </div>
                <div class="time_period">10:00 </div>
                <div class="time_period">11:00 </div>
                <div class="time_period">12:00 PM </div>
                <div class="time_period">1:00 </div>
                <div class="time_period">2:00 </div>
                <div class="time_period">3:00 </div>
                <div class="time_period">4:00 </div>
                <div class="time_period">5:00 </div>
                <div class="time_period">6:00 </div>
                <div class="time_period">7:00 </div>
                <div class="time_period">8:00 </div>
                <div class="time_period">9:00 </div>
            </div>
            <div id = "monday" class = "day"> 
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "tuesday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "wednesday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "thursday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "friday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "saturday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
            <div id = "sunday" class = "day">
                <div id = "sevenAM" class = "time_period"></div>
                <div id = "eightAM" class = "time_period"></div>
                <div id = "nineAM" class = "time_period"></div>
                <div id = "tenAM" class = "time_period"></div>
                <div id = "elevenAM" class = "time_period"></div>
                <div id = "twelvePM" class = "time_period"></div>
                <div id = "onePM" class = "time_period"></div>
                <div id = "twoPM" class = "time_period"></div>
                <div id = "threePM" class = "time_period"></div>
                <div id = "fourPM" class = "time_period"></div>
                <div id = "fivePM" class = "time_period"></div>
                <div id = "sixPM" class = "time_period"></div>
                <div id = "sevenPM" class = "time_period"></div>
                <div id = "eightPM" class = "time_period"></div>
                <div id = "ninePM" class = "time_period"></div>
            </div>
        </div>
    </center>
</html>
<script>
    form_submit = document.getElementById("form_submit");
    change = document.getElementById("change");
    form = document.getElementById("course_form");
    selection = document.getElementById("course_selection");
    week = document.getElementById('week');
    exampleclass = document.getElementById("exampleclass");
    var selected_courses = [];
    var periods = ["sevenAM", "eightAM", "nineAM", "tenAM", "elevenAM", "twelvePM", "onePM", "twoPM", "threePM", "fourPM", "fivePM", "sixPM", "sevenPM","eightPM","ninePM"];
    var days = ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"];
    document.addEventListener('DOMContentLoaded', () => {
        //append courses from form to course_selection 
        form_submit.addEventListener("click", async () => {
            var node = document.createElement("li");                 // Create a <li> node
            var textnode = document.createTextNode(form.value);         // Create a text node
            node.appendChild(textnode);                            // Append the text to <li>
            selection.appendChild(node);
            selected_courses.push(form.value);
        })

        change.addEventListener("click", async () => {
            var exampleclass = document.createElement("div");
            exampleclass.classList.add("classtemplate");

            //get random times
            /* Gets a random time interval
            */
            // this function is broken. Won't work as anticipated but will give randomized times.
            var random_hour_start = getRndMultiple(7*60, 1800, 120); // a multiiple of 10
            var startTime  = getRndMultiple(random_hour_start, random_hour_start + 120, 5);
            var endTime = getRndMultiple(random_hour_start + 120, random_hour_start + 300, 5);


            /* get a class that is not random starts at 7AM, ends at 9AM*/
            // var startTime = 7*60; // 7AM (manually set // starthour * 60)
            // var endTime = 7*60 + 10*60; // 8AM (manually set // endhour * 60)
            
            var positionStartTime = accountForBorderHeightAccumulation(
                beginPixelsFromSevenAM(
                    convertTimeToPixels(startTime)
                )
            );
            
            var positionEndTime = accountForBorderHeightAccumulation(
            beginPixelsFromSevenAM(
                    convertTimeToPixels(endTime)
                )
            )

            /* construct the section element to add to week */
            // top position = startTime - (120px/hour)*(7 hour) since it starts at 7AM
            exampleclass.style.top = positionStartTime + "px";
            console.log("pixel top position of section: ")

            var positionDifference= (positionEndTime- positionStartTime); // in pixels
            var height_amount = positionDifference;
            // account for accumulated border heights that extend needed height-amount

            console.log(height_amount)
            exampleclass.style.height = height_amount + "px";

            var startTimeString = getHour(startTime) + ":" + getMinutes(startTime);
            var endTimeString = getHour(endTime) + ":" + getMinutes(endTime);
            exampleclass.innerHTML = startTimeString + " - " + endTimeString;


            //get the hour to add course to
            var random_day = days[getRndInteger(0,7)];
            var random_day = document.getElementById(random_day);
            random_day.appendChild(exampleclass);
        })

        function beginPixelsFromSevenAM(pixels) {
            return pixels - 120*7;
        }

        // account for accumulated pixels from heights of borders when calculating 
        // positions
        function accountForBorderHeightAccumulation(position) {
            console.log("position/120: ", (position / 120))
            // 9 is a random number, but it worked..
            return (((position/(120*7)) * 9) + position);
        }

        function convertTimeToPixels(timeInMinutes) {
            return timeInMinutes*2;
        }
        
        function getHour(timeInMinutes) {
            return parseInt(Math.floor(timeInMinutes/60));
        }

        function getMinutes(timeInMinutes) {
            var minutes = parseInt((timeInMinutes % 60));
            if (minutes < 10) {
                return "0" + minutes;
            }
            else {
                return minutes;
            }
        }
        
    });

    //returns a random multiple within the bounds gievn
    function getRndMultiple(min, max, multiple) {
        var a_random = Math.floor(Math.random() * (max - min) ) + min;
        var difference = a_random % multiple;
        return a_random - difference;
    }
    //returns a random multiple of five within the bounds gievn
    function getRndInteger(min, max) {
        var a_random = Math.floor(Math.random() * (max - min) ) + min;
        return a_random;
    }
</script>

<style>
    #week {
        position: relative;
        height: 1800px; /* 2px is one minute, each hour is therefore 120px*/
        width: 840px; /* 120px is each day */
        width: 960px; /* 7 days plus time legend*/
        display:table;  /*table test*/
    }

    .time_period {
        position: relative;
        background-color: #EAE6E5;
        height: 120px;
        width: 120px;
        border-bottom-style: groove;
        border-width: 0.1px;
        z-index: 2;
        margin: 0;
    }

    .day {
        position: relative;
        float: left;
        width: 120px;
        z-index: 1;
        display:table-cell;  
    }

    .classtemplate {
        position: absolute;
        z-index: 3;
        width: 119px;
        background-color: #0EB1D2;
    }

    #exampleclass {
        background-color: #0EB1D2;
        position: relative;
        height: 120px; /* duration of course section */
        width: 120px;
        top: 10px; /* starting time from the nearest hour */
    }

</style>