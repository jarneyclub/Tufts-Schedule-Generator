<!DOCTYPE html>
<html>
    <head>
        <title>web page prototype</title>
        <!-- JQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <!-- API scripts -->
        <script src = "./scripts/api.js"></script>
        <script src="./scripts/schedule.js"></script>
        <link rel = "stylesheet" href = "./style/common.css">
        <link rel="stylesheet" href="./style/weeklySchedule.css">
    </head>
    <body>
        <div id="container">
            <div id = "optionMainContainer">
                <button id = "optionCourseSingle" class="optionMain selected">
                    Course
                </button>
                <!--
                    <button id = "optionCourseMultiple" class="optionMain">
                        Courses
                    </button>
                -->
            </div>
            <div id = "promptMainContainer">
                <h1>Choose a course</h1>
                <div>
                    <input id="prompt" type="text" class="optionSingle" value ="COMP-0015">
                </div>
                <div>
                    <input id="addCourse" value="Generate" type="submit" class="optionSingle">
                </div>
            </div>
            <div id="coursesSelectedContainer">
            </div>
            <div id = "weeklySchedule" style = "display:none">
                <div id="week">
                    <div id="time" class="day">
                        <div class="time_period">7:00 AM</div>
                        <div class="time_period">8:00 </div>
                        <div class="time_period">9:00 </div>
                        <div class="time_period">10:00 </div>
                        <div class="time_period">11:00 </div>
                        <div class="time_period">12:00 PM </div>
                        <div class="time_period">1:00 </div>
                        <div class="time_period">2:00 </div>
                        <div class="time_period">3:00 </div>
                        <div class="time_period">4:00 </div>
                        <div class="time_period">5:00 </div>
                        <div class="time_period">6:00 </div>
                        <div class="time_period">7:00 </div>
                        <div class="time_period">8:00 </div>
                        <div class="time_period">9:00 </div>
                    </div>
                    <div id="monday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="tuesday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="wednesday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="thursday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="friday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="saturday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                    <div id="sunday" class="day">
                        <div id="sevenAM" class="time_period"></div>
                        <div id="eightAM" class="time_period"></div>
                        <div id="nineAM" class="time_period"></div>
                        <div id="tenAM" class="time_period"></div>
                        <div id="elevenAM" class="time_period"></div>
                        <div id="twelvePM" class="time_period"></div>
                        <div id="onePM" class="time_period"></div>
                        <div id="twoPM" class="time_period"></div>
                        <div id="threePM" class="time_period"></div>
                        <div id="fourPM" class="time_period"></div>
                        <div id="fivePM" class="time_period"></div>
                        <div id="sixPM" class="time_period"></div>
                        <div id="sevenPM" class="time_period"></div>
                        <div id="eightPM" class="time_period"></div>
                        <div id="ninePM" class="time_period"></div>
                    </div>
                </div>
            </div>
        </div>
        <script>
            /* global variables */
            var option = "optionSingle";
            var coursesSelected_optionMultiple = [];
            $(".optionMain").on("click", function() {
                if (this.id == "optionCourseSingle") {
                    option = "optionSingle";
                }
                else if (this.id == "optionCourseMultiple") {
                    option = "optionMultiple";
                }
            });

            $("#addCourse").on("click", async function() {
                console.log("course added");
                if (this.className == "optionSingle") {
                    console.log("executing optionSingle course addition")
                    
                    var courseName = $("#prompt").val();
                    var courseInformation = await getCourseInfo(courseName);
                    console.log(courseInformation);

                    $("#promptMainContainer").css("display", "none");
                    $("#weeklySchedule").css("display", "block");

                    /* just for comp20 */
                    var JSONelement = document.createElement("div");
                    JSONelement.innerHTML = JSON.stringify(courseInformation);
                    var randomContainer = document.getElementById("optionMainContainer");
                    randomContainer.appendChild(JSONelement);

                    var times = await getAllTimesNecessary(courseInformation.data.info);
                    console.log("times: ", times)
                    for ( var index in times) {
                        addSectionToDisplay(times[index][0], times[index][1], times[index][2]);
                    }
                }
                else if (this.className == "optionMultiple") {
                    /* append courses to variable */
                    var courseName = $("#prompt").val();
                    coursesSelected_optionMultiple.push(courseName);

                    /* display courses at the side*/
                    var divElement = document.createElement("div");
                    divElement.setAttribute("class", "courseSelected");
                    divElement.innerHTML = courseName;
                    $("#coursesSelectedContainer").append(divElement);
                }
            })
        </script>
    </body>

</html>